{"ast":null,"code":"import _classCallCheck from\"H:\\\\myAssignments\\\\myproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"H:\\\\myAssignments\\\\myproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"H:\\\\myAssignments\\\\myproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"H:\\\\myAssignments\\\\myproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';var locurl=\"http://localhost:8900/location\";var resturl=\"http://localhost:8900/restauranthome?city=\";var Banner=/*#__PURE__*/function(_Component){_inherits(Banner,_Component);var _super=_createSuper(Banner);function Banner(props){var _this;_classCallCheck(this,Banner);_this=_super.call(this,props);_this.handleCity=function(event){_this.setState({restaurents:''});_this.setState({city:event.target.value});var cityid=parseInt(event.target.value);sessionStorage.setItem('citiId',event.target.value);fetch(\"\".concat(resturl).concat(cityid),{method:'GET'}).then(function(res){return res.json();}).then(function(data){_this.setState({restaurents:data});});};_this.renderCity=function(data){if(data){return data.map(function(item){return/*#__PURE__*/React.createElement(\"option\",{value:item.city},item.name);});}};_this.renderRest=function(data){if(data){return data.map(function(item){return/*#__PURE__*/React.createElement(\"option\",null,item.name,\" | \",item.locality);});}};_this.state={locaton:'',city:'',restaurants:''};return _this;}_createClass(Banner,[{key:\"render\",// handleRestaurent =(event) => {\n//     console.log(event.target.value)\n//     this.props.restid(Number(event.target.value))\n// }\nvalue:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{class:\"imgcontainer\"},/*#__PURE__*/React.createElement(\"div\",{class:\"logo\"}),/*#__PURE__*/React.createElement(\"div\",{class:\"HeadComp\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Find the best Restaurants,Caf\\xE9s & Bars\")),/*#__PURE__*/React.createElement(\"div\",{class:\"locationselector\"},/*#__PURE__*/React.createElement(\"select\",{class:\"dropdown\",onChange:this.handleCity},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Select Location\"),this.renderCity(this.state.location)),/*#__PURE__*/React.createElement(\"input\",{class:\"restaurantsinput\",type:\"text\",list:\"city\",placeholder:\"Search for Restaurants...\",onChange:this.handleRestaurent}),/*#__PURE__*/React.createElement(\"i\",{class:\" fa fa-search\"}),/*#__PURE__*/React.createElement(\"datalist\",{id:\"city\"},this.renderRest(this.state.restaurents)))));}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(locurl,{method:'GET'}).then(function(res){return res.json();}).then(function(data){_this2.setState({location:data});});}}]);return Banner;}(Component);export default Banner;","map":{"version":3,"sources":["H:/myAssignments/myproject/src/component/Home/Banner.js"],"names":["React","Component","locurl","resturl","Banner","props","handleCity","event","setState","restaurents","city","target","value","cityid","parseInt","sessionStorage","setItem","fetch","method","then","res","json","data","renderCity","map","item","name","renderRest","locality","state","locaton","restaurants","location","handleRestaurent"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\r\n\r\nconst locurl = \"http://localhost:8900/location\";\r\nconst resturl = \"http://localhost:8900/restauranthome?city=\";\r\n\r\nclass Banner extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            locaton:'',\r\n            city:'',\r\n            restaurants:'',\r\n        }   \r\n    }\r\n    handleCity = (event) => {\r\n        this.setState({restaurents:''})\r\n        this.setState({city:event.target.value})\r\n        var cityid = parseInt(event.target.value)\r\n        sessionStorage.setItem('citiId',event.target.value)\r\n        fetch(`${resturl}${cityid}`,{method:'GET'})\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n            this.setState({restaurents:data})\r\n        })\r\n    }\r\n    renderCity = (data) => {\r\n        if(data){\r\n            return data.map((item) => {\r\n                return(\r\n                    <option value={item.city}>\r\n                        {item.name}\r\n                    </option>\r\n                )\r\n            })\r\n        }\r\n    }\r\n\r\n    renderRest = (data) => {\r\n        if(data){\r\n            return data.map((item) => {\r\n                return(\r\n                    <option>\r\n                        {item.name} | {item.locality}\r\n                    </option>   \r\n                )\r\n            })\r\n        }\r\n    }\r\n\r\n    // handleRestaurent =(event) => {\r\n    //     console.log(event.target.value)\r\n    //     this.props.restid(Number(event.target.value))\r\n    // }\r\n\r\n\r\n    render(){\r\n        return(\r\n            <div> \r\n               <div class=\"imgcontainer\">\r\n                    <div class=\"logo\">   \r\n                    </div>\r\n                    <div class=\"HeadComp\">\r\n                        <h2>Find the best Restaurants,Caf√©s & Bars</h2>\r\n                    </div> \r\n                    <div class=\"locationselector\">\r\n                        <select class=\"dropdown\" onChange = {this.handleCity}>\r\n                        <option value=\"\">Select Location</option>\r\n                            {this.renderCity(this.state.location)}\r\n                        </select>\r\n                    <input class=\"restaurantsinput\" type=\"text\" list=\"city\" placeholder=\"Search for Restaurants...\" onChange={this.handleRestaurent}/><i class=\" fa fa-search\"></i>\r\n                        <datalist id=\"city\">\r\n                            {this.renderRest(this.state.restaurents)}\r\n                        </datalist>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    componentDidMount(){\r\n        fetch(locurl,{method:'GET'})\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n           \r\n        this.setState({location:data})\r\n        })\r\n     }\r\n     \r\n}\r\n\r\nexport default Banner;"]},"metadata":{},"sourceType":"module"}